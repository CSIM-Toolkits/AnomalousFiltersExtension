<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Segmentation.MS Lesion Track.Diffusion-MRI</category>
  <title>DTI Lesion Track</title>
  <description><![CDATA[This CLI module aims to segment abnormalities voxels from diffusion maps provided from DTI images, such as the fractional anisotropy (FA), mean diffusivity (MD) and others. This tool is optmized to analyse the lesion pattens observed in Multiple Sclerosis disease. Other modules could be implemented to study other neurodegenerative diseases that affects the brain white matter.]]></description>
  <version>0.0.1</version>
  <documentation-url>http://www.slicer.org/Slicer/Modules/DTILesionTrack</documentation-url>
  <license>Slicer</license>
  <contributor>Antonio Carlos da S. Senra Filho (University of Sao Paulo), Luiz Otavio Murta Junior (University of Sao Paulo)</contributor>
  <acknowledgements>This work was partially funded by CNPq grant 201871/2015-7/SWE and CAPES.</acknowledgements>
  <parameters>
    <label>Input/Output Parameters</label>
    <description><![CDATA[Input/output parameters]]></description>
	<image type="label">
	   <name>T1WMMask</name>
	   <label>White Matter Mask</label>
	   <channel>input</channel>
	   <index>0</index>
	   <description><![CDATA[White matter mask which could be extracted from structural T1 input volume.]]></description>
	</image>
	<image type="label">
	   <name>initLabels</name>
	   <label>T2-FLAIR Initial Label</label>
	   <channel>input</channel>
	   <index>1</index>
	   <description><![CDATA[Input an initial manual segmentation to drive a first approximation for the spatial DTI lesion segmentation.]]></description>
	</image>
	<image>
	   <name>FAInputVolume</name>
	   <label>DTI-FA Volume</label>
	   <channel>input</channel>
	   <index>2</index>
	   <description><![CDATA[DTI FA map input volume. Please, provide here a high quality brain extracted and eddy corrected FA map.]]></description>
	</image>
	<image>
	   <name>MDInputVolume</name>
	   <label>DTI-MD Volume</label>
	   <channel>input</channel>
	   <index>3</index>
	   <description><![CDATA[DTI MD map input volume. Please, provide here a high quality brain extracted and eddy corrected MD map.]]></description>
	</image>	
	<image type="label">
	   <name>lesionLabels</name>
	   <label>Lesion Label</label>
	   <channel>output</channel>
	   <index>4</index>
	   <description><![CDATA[Output a global label mask which inform the lesions segmented in the white matter.]]></description>
	</image>
	<string-enumeration>
	      <name>dtiTemplateChoice</name>
	      <longflag>--dtiTemplate</longflag>
	      <description><![CDATA[Choose the DTI template used for space registration and quantitative matric evaluation. Options: JHU = John Hopkins University ..., USP = University of Sao Paulo.]]></description>
	      <label>DTI Template</label>
	      <default>USP</default>
	      <element>JHU</element>
	      <element>USP</element>
	</string-enumeration>
	<string-enumeration>
	      <name>wmTracks</name>
	      <longflag>--wmTracks</longflag>
	      <description><![CDATA[Choose how many white matter tracks do you want to be analysed in the post-processing step. Option: All tracks = Use all the atlas labels marked in the Mori, et al. paper, Main tracks = Use only the 6 main white matter tracks, such as the ...]]></description>
	      <label>White matter tracks evalutaion</label>
	      <default>All labels</default>
	      <element>All labels</element>
	      <element>Core labels</element>
	</string-enumeration>	
  </parameters>  
  <parameters>
  <label>Global Segmentation Parameters</label>
	<string-enumeration>
	      <name>segMethod</name>
	      <longflag>--segMethod</longflag>
	      <description><![CDATA[Choose the segmentation method to be applied over the input images.]]></description>
	      <label>Algorithm</label>
	      <default>Statistical (t-test)</default>
	      <element>Bayesian Clustering</element>
	      <element>Markov Random Field</element>
	      <element>K-Means</element>
	      <element>Statistical (t-test)</element>
	      <element>Statistical (Bayesian)</element>
	</string-enumeration>	
	<string-enumeration>
	      <name>lesionOut</name>
	      <longflag>--lesionOut</longflag>
	      <description><![CDATA[Choose the segmentation method to be applied over the input images.]]></description>
	      <label>Output lesion labels as:</label>
	      <default>Global mask</default>
	      <element>Global mask</element>
	      <element>Splited masks</element>
	</string-enumeration>
</parameters>
<parameters>
	<label>Quantitative Parameters</label>
	<boolean>
 	      <name>useLesionLoad</name>
 	      <longflag>--useLesionLoad</longflag>
 	      <description><![CDATA[Output the lesion load metric estimated from the output label]]></description>
 	      <label>Estimates patient lesion load</label>
	      <default>false</default>
	</boolean>
	<boolean>
 	      <name>splitLesionLabel</name>
 	      <longflag>--split</longflag>
 	      <description><![CDATA[Split the output lesion label into separable one volume per label, i.e. each lesion will be placed in a different label mask]]></description>
 	      <label>Split lesion labels</label>
	      <default>false</default>
	</boolean>
	<boolean>
 	      <name>compareManual</name>
 	      <longflag>--compareManual</longflag>
 	      <description><![CDATA[Compare the results given by the module with the manual segmentation provided by the T2-FLAIR image. This option will be only used if a manual T2-FLAIR lesion segmentation label is provided.]]></description>
 	      <label>Compare with the T2-FLAIR manual labels</label>
	      <default>false</default>
	</boolean>
</parameters>
<parameters advanced="true">
<label>Advanced</label>
	<integer>
	   <name>numClasses</name>
	   <longflag>--nClass</longflag>
	   <label>Number of Classes</label>
	   <description><![CDATA[Number of classes.]]></description>
	   <default>3</default>
	   <constraints>
	   <minimum>1</minimum>
	   <maximum>5</maximum>
	   <step>1</step>
	   </constraints>
	</integer>
</parameters>
</executable>
